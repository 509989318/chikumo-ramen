---
import type { Lang } from '../i18n/translations';
import { t, getNav } from '../i18n/translations';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const nav = getNav(lang);

const navGridItems = [
  { label: 'PHILOSOPHY', image: '/images/nav-philosophy.png', href: nav[0].href },
  { label: 'ABOUT', image: '/images/nav-about.png', href: nav[1].href },
  { label: 'OUR RAMEN', image: '/images/nav-our-ramen.png', href: nav[2].href },
  { label: 'LOCATION', image: '/images/nav-location.png', href: nav[3].href },
  { label: 'RECRUIT', image: '/images/nav-recruit.png', href: nav[4].href, external: nav[4].external },
  { label: 'GALLERY', image: '/images/nav-gallery.png', href: nav[5].href },
  { label: 'CONTACT US', image: '/images/contact-bg.png', href: nav[6].href },
];

const heroTagline = t(lang, 'heroTagline');
---

<!-- Hero Section -->
<section class="hero">
  <div class="hero-bg">
    <img src="/images/hero-bg.webp" alt="" class="hero-bg-img" />
  </div>
  <div class="hero-overlay">
    <div class="hero-text-vertical">
      <p class="hero-tagline">{heroTagline}</p>
    </div>
    <div class="hero-logo-area">
      <img src="/images/shirochikumo.png" alt="千雲" class="hero-logo-mark" />
    </div>
  </div>
</section>

<!-- Philosophy Section -->
<section class="philosophy-section">
  <div class="section-inner">
    <div class="section-title-wrapper">
      <h2 class="section-title">{t(lang, 'philosophyTitle')}</h2>
    </div>
    <div class="philosophy-text">
      {t(lang, 'philosophyText').split('\n').map((line) => (
        <p>{line}</p>
      ))}
    </div>
  </div>
</section>

<!-- Chicken Commitment Section -->
<section class="chicken-section">
  <div class="section-inner">
    <div class="section-title-wrapper">
      <h2 class="section-title">{t(lang, 'chickenTitle')}</h2>
    </div>
    <div class="chicken-content">
      <div class="chicken-text">
        {t(lang, 'chickenText').split('\n').map((line) => (
          <p>{line}</p>
        ))}
      </div>
    </div>
  </div>
</section>

<!-- Nav Grid -->
<section class="nav-grid-section">
  <div class="nav-grid">
    {navGridItems.map((item) => (
      <a
        href={item.href}
        class="nav-grid-item"
        {...(item.external ? { target: '_blank', rel: 'noopener noreferrer' } : {})}
      >
        <div class="nav-grid-img-wrapper">
          <img src={item.image} alt={item.label} loading="lazy" />
          <div class="nav-grid-overlay">
            <span class="nav-grid-label">{item.label}</span>
          </div>
        </div>
      </a>
    ))}
  </div>
</section>

<style>
  /* Hero */
  .hero {
    position: relative;
    height: 500px;
    margin-top: 56px;
    overflow: hidden;
  }

  .hero-bg {
    position: absolute;
    inset: 0;
  }

  .hero-bg-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hero-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding-right: 10%;
    gap: 20px;
  }

  .hero-text-vertical {
    writing-mode: vertical-rl;
    text-orientation: mixed;
  }

  .hero-tagline {
    font-family: var(--font-primary);
    font-size: 48px;
    font-weight: 300;
    color: white;
    letter-spacing: 8px;
    text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    line-height: 1.6;
  }

  .hero-logo-area {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .hero-logo-mark {
    height: 160px;
    width: auto;
    filter: brightness(0) invert(1);
  }

  /* Philosophy Section */
  .philosophy-section {
    padding: 80px 20px;
    text-align: center;
  }

  .section-inner {
    max-width: 800px;
    margin: 0 auto;
  }

  .section-title-wrapper {
    margin-bottom: 40px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--color-border);
  }

  .section-title {
    font-family: var(--font-primary);
    font-size: 22px;
    font-weight: 300;
    letter-spacing: 2px;
  }

  .philosophy-text p {
    font-size: 14px;
    line-height: 2.2;
    color: var(--color-primary);
    letter-spacing: 1px;
  }

  /* Chicken Section */
  .chicken-section {
    padding: 60px 20px 80px;
    text-align: center;
  }

  .chicken-content {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-top: 20px;
  }

  .chicken-text {
    text-align: left;
    max-width: 600px;
  }

  .chicken-text p {
    font-size: 14px;
    line-height: 2.2;
    color: var(--color-primary);
    letter-spacing: 1px;
  }

  /* Nav Grid */
  .nav-grid-section {
    padding: 40px 20px 60px;
  }

  .nav-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    max-width: 900px;
    margin: 0 auto;
  }

  .nav-grid-item {
    display: block;
    position: relative;
    aspect-ratio: 1;
    overflow: hidden;
  }

  .nav-grid-img-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .nav-grid-img-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: grayscale(100%);
    transition: filter 0.3s, transform 0.3s;
  }

  .nav-grid-item:hover .nav-grid-img-wrapper img {
    filter: grayscale(0%);
    transform: scale(1.05);
  }

  .nav-grid-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.3);
  }

  .nav-grid-label {
    font-family: var(--font-secondary);
    font-size: 12px;
    font-weight: 400;
    letter-spacing: 2px;
    color: white;
    text-decoration: underline;
    text-underline-offset: 4px;
  }

  @media (max-width: 768px) {
    .hero {
      height: 350px;
    }

    .hero-tagline {
      font-size: 32px;
    }

    .hero-logo-mark {
      height: 100px;
    }

    .nav-grid {
      grid-template-columns: repeat(3, 1fr);
    }

    .philosophy-section,
    .chicken-section {
      padding: 50px 20px;
    }
  }

  @media (max-width: 480px) {
    .nav-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
</style>
