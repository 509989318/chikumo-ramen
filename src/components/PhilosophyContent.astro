---
import type { Lang } from '../i18n/translations';
import { t } from '../i18n/translations';
import PageHero from './PageHero.astro';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const missions = [1, 2, 3, 4, 5].map(n => t(lang, `mission${n}`));
---

<PageHero title={t(lang, 'philosophyPageTitle')} />

<section class="philosophy-main">
  <div class="section-inner">
    <div class="section-title-wrapper">
      <h2 class="section-title">{t(lang, 'philosophyTitle')}</h2>
    </div>
    <div class="philosophy-text">
      {t(lang, 'philosophyText').split('\n').map((line) => (
        <p>{line}</p>
      ))}
    </div>
  </div>
</section>

<section class="philosophy-image">
  <div class="image-row">
    <img src="/images/philosophy-img1.png" alt="" loading="lazy" />
    <img src="/images/philosophy-img2.png" alt="" loading="lazy" class="wide-img" />
  </div>
</section>

<section class="missions-section">
  <div class="section-inner">
    <div class="section-title-wrapper">
      <h2 class="section-title">{t(lang, 'philosophyMission')}</h2>
    </div>
    <ol class="missions-list">
      {missions.map((mission, i) => (
        <li class="mission-item">
          <span class="mission-number">{i + 1}.</span>
          <span class="mission-text">{mission}</span>
        </li>
      ))}
    </ol>
  </div>
</section>

<style>
  .philosophy-main {
    padding: 60px 20px 40px;
    text-align: center;
  }

  .section-inner {
    max-width: 800px;
    margin: 0 auto;
  }

  .section-title-wrapper {
    margin-bottom: 40px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--color-border);
  }

  .section-title {
    font-family: var(--font-primary);
    font-size: 22px;
    font-weight: 300;
    letter-spacing: 2px;
  }

  .philosophy-text p {
    font-size: 14px;
    line-height: 2.2;
    letter-spacing: 1px;
    text-align: center;
  }

  .philosophy-image {
    padding: 40px 20px;
  }

  .image-row {
    display: flex;
    gap: 20px;
    max-width: 900px;
    margin: 0 auto;
    align-items: flex-start;
  }

  .image-row img {
    flex: 1;
    max-height: 300px;
    object-fit: cover;
  }

  .image-row .wide-img {
    flex: 2;
  }

  .missions-section {
    padding: 60px 20px 80px;
    text-align: center;
  }

  .missions-list {
    margin-top: 30px;
    text-align: left;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }

  .mission-item {
    display: flex;
    gap: 12px;
    padding: 16px 0;
    border-bottom: 1px solid var(--color-border);
    font-size: 14px;
    line-height: 1.8;
    letter-spacing: 1px;
  }

  .mission-number {
    font-family: var(--font-heading);
    font-weight: 500;
    flex-shrink: 0;
    width: 24px;
  }

  @media (max-width: 768px) {
    .image-row {
      flex-direction: column;
    }

    .image-row img {
      max-height: 200px;
    }
  }
</style>
